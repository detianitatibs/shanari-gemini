## 開発タスクリスト

### 依存関係

- **[CICD-002]** は **[ENV-001]** に依存します。
- **[BE-001]** は **[DB-001]** に依存します。
- **[FE-003]** は **[BE-001]** および **[BE-002]** に依存します。
- **[FE-004]** は **[BE-003]** に依存します。
- **[FE-008]** は **[FE-007]** に依存します。
- **[FE-010]** は **[BE-004]** および **[FE-009]** に依存します。
- **[Infra-001]** は **[CICD-002]** が完了し、デプロイ可能なコンテナイメージが存在することを前提とします。

### フェーズ 1: 開発環境と CI/CD の基盤構築

| チェックマーク | ID/連番  | タスク名                                                        | 対象設計書（セクション） | カテゴリ | 所要時間（見積） | 完了条件                                                                                      |
| :------------- | :------- | :-------------------------------------------------------------- | :----------------------- | :------- | :--------------- | :-------------------------------------------------------------------------------------------- |
| [x]            | ENV-001  | Next.js プロジェクトのセットアップと Docker 開発環境の構築      | `infra-dd > 1.2, 3.2`    | 環境準備 | 8 時間           | `docker-compose up`で Next.js の雛形ページが`localhost:3000`で表示される。                    |
| [x]            | CICD-001 | GitHub Actions による CI パイプラインの構築                     | `infra-dd > 4.1`         | CICD     | 4 時間           | Pull Request 時に ESLint と Jest（初期状態）が実行され、結果がレポートされる。                |
| [ ]            | CICD-002 | GitHub Actions による CD パイプラインの構築（ビルド＆プッシュ） | `infra-dd > 4.2`         | CICD     | 8 時間           | main ブランチへのマージ時に Docker イメージがビルドされ、Artifact Registry にプッシュされる。 |

### フェーズ 2: Web アプリケーション開発

#### バックエンド / DB

| チェックマーク | ID/連番 | タスク名                                                   | 対象設計書（セクション） | カテゴリ     | 所要時間（見積） | 完了条件                                                                                                       |
| :------------- | :------ | :--------------------------------------------------------- | :----------------------- | :----------- | :--------------- | :------------------------------------------------------------------------------------------------------------- |
| [ ]            | DB-001  | TypeORM エンティティとマイグレーションの作成               | `db-dd > 1`              | DB           | 4 時間           | 全テーブルのエンティティ定義と、DB を初期化するマイグレーションファイルが作成されている。                      |
| [ ]            | BE-001  | 記事一覧取得 API (`/api/posts`) の実装（テスト含む）       | `func-dd > 2`            | バックエンド | 4 時間           | ページネーション、フィルタ、ソート機能を持つ API がテストと共に実装されている。                                |
| [ ]            | BE-002  | カテゴリ・アーカイブ一覧取得 API の実装（テスト含む）      | `func-dd > 2`            | バックエンド | 4 時間           | `/api/categories`と`/api/archives`がテストと共に実装されている。                                               |
| [ ]            | BE-003  | 記事詳細取得 API (`/api/posts/:slug`) の実装（テスト含む） | `func-dd > 2`            | バックエンド | 4 時間           | slug に対応する Markdown ファイルを GCS（ローカル代替）から取得し、返却する API がテストと共に実装されている。 |
| [ ]            | BE-004  | 管理者認証 API およびミドルウェアの実装（テスト含む）      | `infra-dd > 3.1, 3.3`    | バックエンド | 8 時間           | `/admin`配下へのアクセス制御と、開発環境用の認証モックがテストと共に実装されている。                           |
| [ ]            | BE-005  | 管理者用記事 CRUD API の実装（テスト含む）                 | `func-dd > 2, 3.1`       | バックエンド | 8 時間           | 記事の作成・更新・削除を行う API 群 (`/api/admin/posts`) がテストと共に実装されている。                        |
| [ ]            | BE-006  | 画像アップロード API の実装（テスト含む）                  | `func-dd > 2, 3.2`       | バックエンド | 4 時間           | 画像を GCS（ローカル代替）にアップロードし URL を返す API がテストと共に実装されている。                       |

#### フロントエンド

| チェックマーク | ID/連番 | タスク名                                             | 対象設計書（セクション） | カテゴリ       | 所要時間（見積） | 完了条件                                                                                        |
| :------------- | :------ | :--------------------------------------------------- | :----------------------- | :------------- | :--------------- | :---------------------------------------------------------------------------------------------- |
| [ ]            | FE-001  | Atomic Design の基本コンポーネント実装（Atoms）      | `screen-dd > 4.1`        | フロントエンド | 8 時間           | Button, Input, Icon 等の基本的な Atoms が Storybook と単体テストと共に実装されている。          |
| [ ]            | FE-002  | 共通レイアウトコンポーネントの実装（Header, Footer） | `screen-dd > 4.3`        | フロントエンド | 4 時間           | 全ページ共通のヘッダーとフッターが Storybook と共に実装されている。                             |
| [ ]            | FE-003  | ブログ一覧ページの開発（Molecules, Organisms）       | `screen-dd > 4.2, 4.3`   | フロントエンド | 8 時間           | PostCard, PostList, Sidebar 等のコンポーネントが Storybook とテストと共に実装されている。       |
| [ ]            | FE-004  | ブログ一覧ページの画面実装                           | `screen-dd > 1.2`        | フロントエンド | 4 時間           | API と接続し、フィルタ・ソート機能を含んだブログ一覧ページが完成している。                      |
| [ ]            | FE-005  | Markdown レンダラーコンポーネントの実装              | `prog-dd > 4`            | フロントエンド | 4 時間           | `react-markdown`等を用いたレンダラーが Storybook とテストと共に実装されている。                 |
| [ ]            | FE-006  | ブログ詳細ページの画面実装                           | `screen-dd > 1.3`        | フロントエンド | 4 時間           | API と接続し、Markdown で記述された記事と埋め込み動画が表示されるページが完成している。         |
| [ ]            | FE-007  | プロフィールページの画面実装                         | `screen-dd > 1.2`        | フロントエンド | 4 時間           | プロフィール情報が表示される静的なページが完成している。                                        |
| [ ]            | FE-008  | トップページの画面実装                               | `screen-dd > 1.1`        | フロントエンド | 4 時間           | 各コンテンツへの導線となるタイルが表示されるトップページが完成している。                        |
| [ ]            | FE-009  | 管理者ページの共通レイアウトとダッシュボード実装     | `screen-dd > 1.4.1`      | フロントエンド | 4 時間           | 認証と連携し、管理者用の共通レイアウトとダッシュボード画面が完成している。                      |
| [ ]            | FE-010  | 管理者用記事一覧ページの実装                         | `screen-dd > 1.4.2`      | フロントエンド | 4 時間           | API と接続し、記事の CRUD 操作（編集/削除ボタン）が可能な一覧ページが完成している。             |
| [ ]            | FE-011  | 管理者用記事編集ページの実装（エディタとプレビュー） | `screen-dd > 1.4.3`      | フロントエンド | 8 時間           | Markdown エディタとリアルタイムプレビュー（動画埋め込み含む）を持つ編集ページが完成している。   |
| [ ]            | FE-012  | 画像アップロード機能のフロントエンド実装             | `screen-dd > 1.4.3`      | フロントエンド | 4 時間           | エディタへの D&D またはファイル選択で画像をアップロードし、リンクを挿入する機能が完成している。 |

### フェーズ 3: 本番環境へのデプロイ

| チェックマーク | ID/連番   | タスク名                                | 対象設計書（セクション） | カテゴリ | 所要時間（見積） | 完了条件                                                                                  |
| :------------- | :-------- | :-------------------------------------- | :----------------------- | :------- | :--------------- | :---------------------------------------------------------------------------------------- |
| [ ]            | Infra-001 | 本番環境 GCP リソースのプロビジョニング | `infra-dd > 1.1, 3`      | インフラ | 8 時間           | Cloud Run, GCS, Cloud Build, Identity Platform 等のリソースが作成・設定されている。       |
| [ ]            | Infra-002 | Cloud Run へのデプロイと動作確認        | `infra-dd > 1.1, 4.2`    | インフラ | 4 時間           | main ブランチへのマージをトリガーに本番環境へ自動デプロイされ、サイトが正常に表示される。 |
