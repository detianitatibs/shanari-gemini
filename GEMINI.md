# 個人サイトプロジェクト

このドキュメントは、**Gemini Code Assist**が個人サイトプロジェクトのコンテキストを理解し、適切かつ効果的なコード生成、デバッグ、ドキュメント作成のサポートを提供できるように作成されています。
以下のルールを遵守してください。

- 日本語で回答してください
- ドキュメント、`README.md`のような設計書となる Markdown ファイルは日本語で記載してください
- コードのコメントは英語で記載してください

---

## 1. プロジェクト概要

- **プロジェクト名**: 個人サイト
- **目的**: 個人のプロフィール紹介、情報の発信
- **今後の拡張性**: 高い拡張性を確保し、将来的にページや機能を容易に追加できる構造とする。
  グローバル化、視覚の多様性に対応できるように言語の切り替え、テーマの切り替えができる構造とする

---

## 2. 技術スタックとインフラ

- **Web アプリケーションフレームワーク**: **Next.js** (最新の安定版)
- **ホスティング環境**: **Google Cloud Run** (コンテナイメージをデプロイ)
- **データベース**: **SQLite3** (データベースファイルは**Google Cloud Storage**に配置し、アプリケーションからアクセス)
- **ストレージ**: **Google Cloud Storage** (GCS) (DB ファイル、静的アセット、写真データなどを格納)
- **コンテナ化**: **Docker** (Next.js アプリケーションをコンテナ化)
- **開発環境**: **anyenv**の**nodenv**がすでにインストールされている。この仮想環境でローカル環境は開発する

---

## 3. 開発プロセスと手法

### 3.1. 開発手法

- **アジャイル開発**を採用し、小規模なイテレーションでの開発とフィードバックを繰り返します。
- ただし、各機能の開発着手前に以下の**設計ドキュメント**を必ず作成します。
  1.  **要件定義ドキュメント**
  2.  **基本設計ドキュメント**
  3.  **詳細設計ドキュメント**
- 設計ドキュメントに基づき、**詳細なタスクリスト**に落とし込んでから実装を開始します。

### 3.2. コード品質とテスト

- **テスト駆動開発 (TDD)** を採用します。
- **必ずテストコードを先に記述**し、そのテストが通るように実装を進めます。
- 使用するテストフレームワークは、Next.js の推奨に従い**Jest**や**React Testing Library**などを想定します。
- フロントエンドについては**storybook**を使って視覚化とテストを実施します

### 3.3. コード管理と CI/CD

- **ソースコード管理**: **Public GitHub**リポジトリで管理します。
- **CI/CD パイプライン**: **GitHub Actions**を利用します。
  - **CI (継続的インテグレーション)**: プッシュ時またはプルリクエスト作成時に**テストの実行**と**コードの静的解析**を実施します。
  - **CD (継続的デプロイ)**: メインブランチへのマージをトリガーに、コンテナイメージをビルドし、**Google Cloud Artifact Registry**へプッシュ後、**Google Cloud Run**へデプロイします。

---

## 5. ディレクトリ構造

ディレクトリ構造は以下に従います。

```
.
├── docs/                    # ドキュメント関連
├── data/                    # テストデータ関連、gitの管理外とする
├── apps/                    # 各アプリケーションのディレクトリ
├── docker-compose.yml       # ローカルDBなどを起動するDocker Composeファイル
├── .gitignore               # gitの管理外ファイル
└── README.md
```

### 5.1. docs フォルダ

- 以下の**設計ドキュメント**を保存します
  1.  **要件定義ドキュメント**: **01_rd**フォルダ配下に要件定義の内容を Markdown で保存します
  2.  **基本設計ドキュメント**: **02_bd**フォルダ配下に基本設計の内容を Markdown で保存します
  3.  **詳細設計ドキュメント**: **03_dd**フォルダ配下に詳細設計の内容を Markdown で保存します
  4.  **タスク一覧ドキュメント**: **04_tasks**フォルダ配下に実施すべきタスク一覧の内容を Markdown で保存します

---

## 4. Gemini Code Assist への期待

**Gemini Code Assist**は、以下の点でのサポートを期待します。

1.  **Next.js と TDD**のプラクティスに沿ったコンポーネント、API ルート、テストコードの提案。
2.  **SQLite3** (GCS 配置)へのデータアクセス層の実装支援。
3.  **Google Cloud Run / GCS**環境に特化したデプロイ設定 (例: `Dockerfile`, CI/CD 設定ファイルの一部)の助言。
4.  詳細設計に基づいた、高拡張性・高保守性を備えたコードスニペットの生成。
5.  コードの品質向上を目的としたリファクタリングの提案。

このコンテキストを理解した上で、適切なサポートをお願いします。
